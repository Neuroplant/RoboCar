#define motorPin1	0 + PIN_BASE0		//Motor Vorwärts        out digital
#define motorPin2	1 + PIN_BASE0	  	//Motor Rückwärts       out digital
#define enablePin	2 + PIN_BASE0  		//Motor Geschwindigkeit out PWM

void *MotorThread(void *value){
	pinMode(enablePin,OUTPUT);
	pinMode(motorPin1,OUTPUT);
	pinMode(motorPin2,OUTPUT);
	
	printf("Motor ready\n");
	while (run) {
		if(gear>0){
			pwmWrite(motorPin1,0);
			pwmWrite(motorPin2,PWM_MAX);
		//printf("turn Forward...\n");
		}
		else{
			if (gear<=0){
				pwmWrite(motorPin1,PWM_MAX);
				pwmWrite(motorPin2,0);
		//printf("turn Back...\n");
				Sound[2].loop = 1;
			}
		}
		if (gear == 0 ){
			//softPwmWrite(enablePin,BRAKE);
			//throttle = 0;
			Spin_Target = 0;
			Blinker[4].dura = 1;
			Blinker[4].freq = 0;
		}else{
			pwmWrite(enablePin,abs(throttle));
			//printf("Throttle %i \n",throttle);
		}
		servoWriteMS(servoPin_ST,map(steering,10,-10,SERVO_MIN_ST,SERVO_MAX_ST));
	}
	pwmWrite(motorPin1,0);
	pwmWrite(motorPin2,0);
	printf("Motor off\n");	
}